## 成绩

![image-20230804152525412](C:\Users\罗权\AppData\Roaming\Typora\typora-user-images\image-20230804152525412.png)

![image-20230804152554505](C:\Users\罗权\AppData\Roaming\Typora\typora-user-images\image-20230804152554505.png)

## 过程

### &emsp;修改

​		我的代码是在原来的CNN（深度学习方法）的基础之上修改的，我对这个示例的方法做了下面的修改：

​			1、使用了更多的标准库和第三方库来进行数据加载和图像增强，例如使用了`albumentations`库来实现数据增强。

​			2、使用了`paddle.io.DataLoader`来构建数据加载器，将数据加载到模型中进行训练、验证和测试。

​			3、定义了一个新的`XunFeiNet`类，继承自`paddle.nn.Layer`，并添加了额外的卷积层和全连接层。

​			4、采用了一种更简洁的方式来训练和验证模型，并且将准确率等信息直接输出在训练和验证过程中。

### &emsp;采用的网络

​		我和示例代码一样都是采用的`resnet18`作为主干网络，但是我在原有的代码基础之上替换了最后的全连接层，将输出类别数设置为25。同时我还额外地添加了额外的卷积层和全连接层，并对模型进行了修改，添加了更多的参数。

### &emsp;遇到的问题

​		1、数据格式设置不正确。因为在PaddlePaddle中，默认的数据格式为NCHW（通道数在第二维），而在加载预训练的ResNet-18模型时，默认的数据格式是NHWC（通道数在第四维），所以为了解决这个问题，我们需要在加载预训练模型时，明确指定数据格式为NCHW。

​		2、预训练模型的全连接层输出维度与新模型的输出维度不匹配。预训练模型是在ImageNet数据集上训练的，其输出维度为[512, 1000]，而你的新模型输出维度是[512, 25]，这导致了形状不匹配的警告。因为这个并不会影响训练过程，所以我直接忽略了这些警告，但是后续还是解决了这个问题。